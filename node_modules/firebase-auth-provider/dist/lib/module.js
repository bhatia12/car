"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const inversify_1 = require("inversify");
const firebase_auth_provider_1 = require("./firebase_auth_provider");
const auth_provider_1 = require("./auth_provider");
const middleware_1 = require("./middleware");
class FirebaseAuthModule {
    constructor(authProvider, auth) {
        this.module = new inversify_1.ContainerModule((bind) => {
            bind(middleware_1.FirebaseAuthMiddleware).toSelf().inSingletonScope();
            bind(auth_provider_1.FirebaseAuthProvider).to(authProvider).inSingletonScope();
            if (auth) {
                bind(auth_provider_1.FirebaseAuth).toConstantValue(auth);
            }
        });
    }
    static createWithFakeAuthProvider() {
        const md = new FirebaseAuthModule(auth_provider_1.FakeAuthProvider, null);
        return md.module;
    }
    static createWithFirebaseAuthProvider(auth) {
        const md = new FirebaseAuthModule(firebase_auth_provider_1.FirebaseAuthProviderImpl, auth);
        return md.module;
    }
}
exports.FirebaseAuthModule = FirebaseAuthModule;
//# sourceMappingURL=module.js.map